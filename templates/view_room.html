{% extends "base.html" %}
{% block title %}View Room - {{ room.room_no }}{% endblock %}

{% block content %}
<style>
    :root {
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --glass-bg: rgba(255, 255, 255, 0.95);
    }

    .view-card {
        background: var(--glass-bg);
        border-radius: 20px;
        overflow: hidden;
        border: none;
        max-width: 1000px;
        margin: 2rem auto;
    }

    .room-hero-img {
        width: 100%;
        height: 100%;
        min-height: 400px;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .room-hero-img:hover {
        transform: scale(1.03);
    }

    .info-section {
        padding: 2.5rem;
    }

    .status-badge {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        padding: 0.5rem 1.2rem;
    }

    .amenity-pill {
        background: #f1f3f9;
        color: #495057;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-size: 0.9rem;
        display: inline-flex;
        align-items: center;
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
        border: 1px solid #e9ecef;
    }

    .amenity-pill.active {
        background: #e7f5ff;
        color: #228be6;
        border-color: #a5d8ff;
    }

    .price-tag {
        font-size: 2rem;
        font-weight: 800;
        color: #764ba2;
    }

    .label-caps {
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        color: #adb5bd;
        letter-spacing: 1px;
        display: block;
        margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
        .info-section { padding: 1.5rem; }
        .room-hero-img { min-height: 250px; }
    }
</style>

<div class="container px-3">
    <div class="card view-card shadow-lg">
        <div class="row g-0">
            <div class="col-md-5">
                <div class="h-100 overflow-hidden">
                    {% if room.photo %}
                        <img src="{{ url_for('static', filename='uploads/'+room.photo) }}" class="room-hero-img" alt="Room {{ room.room_no }}">
                    {% else %}
                        <div class="h-100 d-flex flex-column align-items-center justify-content-center bg-light text-muted">
                            <i class="bi bi-image fs-1 mb-2"></i>
                            <span>No Photo Available</span>
                        </div>
                    {% endif %}
                </div>
            </div>

            <div class="col-md-7">
                <div class="info-section">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <span class="label-caps">Room Number</span>
                            <h1 class="display-6 fw-bold mb-0">{{ room.room_no }}</h1>
                        </div>
                        <span class="badge rounded-pill status-badge 
                            {% if room.status == 'Available' %}bg-success
                            {% elif room.status == 'Booked' %}bg-warning text-dark
                            {% else %}bg-danger{% endif %} shadow-sm">
                            {{ room.status }}
                        </span>
                    </div>

                    <div class="row mb-4">
                        <div class="col-6">
                            <span class="label-caps">Category</span>
                            <h5 class="text-capitalize"><i class="bi bi-house-door me-2 text-primary"></i>{{ room.room_type }}</h5>
                        </div>
                        <div class="col-6 text-end">
                            <span class="label-caps">Rate per Night</span>
                            <div class="price-tag">${{ room.price }}</div>
                        </div>
                    </div>

                    <hr class="opacity-10">

                    <div class="mb-4">
                        <span class="label-caps mb-3">Included Amenities</span>
                        <div class="d-flex flex-wrap">
                            {% set all_amenities = [('wifi', 'Wi-Fi', 'bi-wifi'), ('smoke', 'Smoking', 'bi-fire'), ('parking', 'Parking', 'bi-p-circle'), ('breakfast', 'Breakfast', 'bi-cup-hot')] %}
                            {% for value, label, icon in all_amenities %}
                                <div class="amenity-pill {% if value in services %}active{% endif %}">
                                    <i class="bi {{ icon }} me-2"></i> {{ label }}
                                </div>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="mb-4">
                        <span class="label-caps">Description</span>
                        <p class="text-muted leading-relaxed">
                            {{ room.description or "No description provided for this room." }}
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-3">
                        <a href="{{ url_for('manage_rooms') }}" class="btn btn-light rounded-pill px-4 shadow-sm border">
                            <i class="bi bi-arrow-left me-2"></i>Back to List
                        </a>
                        <a href="{{ url_for('edit_room', id=room.id) }}" class="btn btn-primary rounded-pill px-4 shadow-sm" style="background: var(--primary-gradient); border: none;">
                            <i class="bi bi-pencil me-2"></i>Edit Room
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}